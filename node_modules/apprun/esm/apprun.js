import app from './app.js';
import { createElement, render, Fragment } from './vdom.js';
import { Component } from './component.js';
import { on, update, customElement } from './decorator.js';
import webComponent from './web-component.js';
import { route, ROUTER_EVENT, ROUTER_404_EVENT } from './router.js';
app.h = app.createElement = createElement;
app.render = render;
app.Fragment = Fragment;
app.webComponent = webComponent;
app.start = (element, model, view, update, options) => {
    const opts = Object.assign(Object.assign({}, options), { render: true, global_event: true });
    const component = new Component(model, view, update);
    if (options && options.rendered)
        component.rendered = options.rendered;
    component.mount(element, opts);
    return component;
};
const NOOP = _ => { };
app.on('$', NOOP);
app.on('debug', _ => NOOP);
app.on(ROUTER_EVENT, NOOP);
app.on('#', NOOP);
app['route'] = route;
app.on('route', url => app['route'] && app['route'](url));
if (typeof document === 'object') {
    document.addEventListener("DOMContentLoaded", () => {
        if (app['route'] === route) {
            window.onpopstate = () => route(location.hash);
            route(location.hash);
        }
    });
}
export { app, Component, on, update, Fragment };
export { update as event };
export { ROUTER_EVENT, ROUTER_404_EVENT };
export { customElement };
export default app;
if (typeof window === 'object') {
    window['Component'] = Component;
    window['React'] = app;
    window['on'] = on;
    window['customElement'] = customElement;
}
//# sourceMappingURL=apprun.js.map
