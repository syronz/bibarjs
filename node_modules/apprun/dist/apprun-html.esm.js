class t{constructor(){this._events={}}on(t,s,e={}){this._events[t]=this._events[t]||[],this._events[t].push({fn:s,options:e})}off(t,s){const e=this._events[t]||[];this._events[t]=e.filter(t=>t.fn!==s)}find(t){return this._events[t]}run(t,...s){const e=this._events[t]||[];return console.assert(e&&e.length>0,"No subscriber for event: "+t),this._events[t]=e.filter(t=>!t.options.once),e.forEach(e=>{const{fn:i,options:n}=e;return n.delay?this.delay(t,i,s,n):i.apply(this,s),!e.options.once}),e.length}once(t,s,e={}){this.on(t,s,Object.assign(Object.assign({},e),{once:!0}))}delay(t,s,e,i){i._t&&clearTimeout(i._t),i._t=setTimeout(()=>{clearTimeout(i._t),s.apply(this,e)},i.delay)}}let s;const e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;e.app&&e._AppRunVersions?s=e.app:(s=new t,e.app=s,e._AppRunVersions="AppRun-2");var i=s;let n=0;function o(t,s,e=0){if(0===e&&(n=0),"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>o(t,s,n));let r=t;return t&&"function"==typeof t.tag&&Object.getPrototypeOf(t.tag).t&&(r=function(t,s,e){const{tag:n,props:o,children:r}=t;let h=`_${e}`,c=o&&o.id;c?h=c:c=`_${e}${Date.now()}`,s.s||(s.s={});let l=s.s[h];l?c=l.i:(l=s.s[h]=new n(Object.assign(Object.assign({},o),{children:r})).mount(c),l.i=c);let u=l.state;if(l.mounted){const t=l.mounted(o,r,u);void 0!==t&&(u=l.state=t)}if(u instanceof Promise){const t=t=>{l.element=t,l.setState(u)};return i.createElement("section",Object.assign({},o,{id:c,ref:s=>t(s)}))}{const t=l._view(u,o),s=s=>{l.element=s,l.renderState(u,t)};return i.createElement("section",Object.assign({},o,{id:c,ref:t=>s(t)}),t)}}(t,s,n++)),r&&Array.isArray(r.children)&&(r.children=r.children.map(t=>o(t,s,n))),r}function r(t){const s=[],e=t=>{null!=t&&""!==t&&!1!==t&&s.push("function"==typeof t||"object"==typeof t?t:`${t}`)};return t&&t.forEach(t=>{Array.isArray(t)?t.forEach(t=>e(t)):e(t)}),s}function h(t,s,...e){const i=r(e);if("string"==typeof t)return{tag:t,props:s,children:i};if(Array.isArray(t))return t;if(void 0===t&&e)return i;if(Object.getPrototypeOf(t).t)return{tag:t,props:s,children:i};if("function"==typeof t)return t(s,i);throw new Error(`Unknown tag in vdom ${t}`)}const c={},l=function(t,s,e={}){if(null==s||!1===s)return;s=o(s,e);const i="SVG"===(null==t?void 0:t.nodeName);if(!t)return;Array.isArray(s)?f(t,s,i):f(t,[s],i)};function u(t,s,e){console.assert(!!t),e=e||"svg"===s.tag,function(t,s){const e=t.nodeName,i=`${s.tag||""}`;return e.toUpperCase()===i.toUpperCase()}(t,s)?(f(t,s.children,e),p(t,s.props)):t.parentNode.replaceChild(d(s,e),t)}function f(t,s,e){const i=Math.min(t.childNodes.length,s.length);for(let n=0;n<i;n++){const i=s[n],o=t.childNodes[n];if(i instanceof HTMLElement||i instanceof SVGElement)t.insertBefore(i,o);else if("string"==typeof i)o.textContent!==i&&(3===o.nodeType?o.textContent=i:t.replaceChild(a(i),o));else{const s=i.props&&i.props.key;if(s)if(o.key===s)u(t.childNodes[n],i,e);else{const r=c[s];r?(t.insertBefore(r,o),t.appendChild(o),u(t.childNodes[n],i,e)):t.insertBefore(d(i,e),o)}else u(t.childNodes[n],i,e)}}let n=t.childNodes.length;for(;n>i;)t.removeChild(t.lastChild),n--;if(s.length>i){const n=document.createDocumentFragment();for(let t=i;t<s.length;t++)n.appendChild(d(s[t],e));t.appendChild(n)}}function a(t){if(0===t.indexOf("_html:")){const s=document.createElement("div");return s.insertAdjacentHTML("afterbegin",t.substring(6)),s}return document.createTextNode(t)}function d(t,s){if(console.assert(null!=t),t instanceof HTMLElement||t instanceof SVGElement)return t;if("string"==typeof t)return a(t);if(!t.tag||"function"==typeof t.tag)return a(JSON.stringify(t));const e=(s=s||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);return p(e,t.props),t.children&&t.children.forEach(t=>e.appendChild(d(t,s))),e}function p(t,s){console.assert(!!t);const e=t._props||{};s=function(t,s){s.class=s.class||s.className,delete s.className;const e={};return t&&Object.keys(t).forEach(t=>e[t]=null),s&&Object.keys(s).forEach(t=>e[t]=s[t]),e}(e,s||{}),t._props=s;for(const e in s){const i=s[e];if("style"===e){t.style.cssText&&(t.style.cssText="");for(const s in i)t.style[s]!==i[s]&&(t.style[s]=i[s])}else if(e.startsWith("data-")){const s=e.substring(5).replace(/-(\w)/g,t=>t[1].toUpperCase());t.dataset[s]!==i&&(i||""===i?t.dataset[s]=i:delete t.dataset[s])}else"id"===e||"class"===e||e.startsWith("role")||e.indexOf("-")>0||t instanceof SVGElement?t.getAttribute(e)!==i&&(i?t.setAttribute(e,i):t.removeAttribute(e)):t[e]!==i&&(t[e]=i);"key"===e&&i&&(c[i]=t)}s&&"function"==typeof s.ref&&window.requestAnimationFrame(()=>s.ref(t))}function m(t,...s){return r(s)}const w=(t,s={})=>class extends HTMLElement{constructor(){super()}get component(){return this._component}get state(){return this._component.state}static get observedAttributes(){return Object.assign({},s).observedAttributes}connectedCallback(){if(this.isConnected&&!this._component){const e=s||{};this._shadowRoot=e.shadow?this.attachShadow({mode:"open"}):this;const i={};Array.from(this.attributes).forEach(t=>i[t.name]=t.value);const n=this.children?Array.from(this.children):[];if(n.forEach(t=>t.parentElement.removeChild(t)),this._component=new t(Object.assign(Object.assign({},i),{children:n})).mount(this._shadowRoot,e),this._component.mounted){const t=this._component.mounted(i,n,this._component.state);void 0!==t&&(this._component.state=t)}this.on=this._component.on.bind(this._component),this.run=this._component.run.bind(this._component),!1!==e.render&&this._component.run(".")}}disconnectedCallback(){var t,s,e,i;null===(s=null===(t=this._component)||void 0===t?void 0:t.unload)||void 0===s||s.call(t),null===(i=null===(e=this._component)||void 0===e?void 0:e.unmount)||void 0===i||i.call(e),this._component=null}attributeChangedCallback(...t){var s;null===(s=this._component)||void 0===s||s.run("attributeChanged",...t)}};var y=(t,s,e)=>{"undefined"!=typeof customElements&&customElements.define(t,w(s,e))};const b={meta:new WeakMap,defineMetadata(t,s,e){this.meta.has(e)||this.meta.set(e,{}),this.meta.get(e)[t]=s},getMetadataKeys(t){return t=Object.getPrototypeOf(t),this.meta.get(t)?Object.keys(this.meta.get(t)):[]},getMetadata(t,s){return s=Object.getPrototypeOf(s),this.meta.get(s)?this.meta.get(s)[t]:null}};function g(t,s={}){return(e,i,n)=>{const o=t?t.toString():i;return b.defineMetadata(`apprun-update:${o}`,{name:o,key:i,options:s},e),n}}function v(t,s={}){return function(e,i){const n=t?t.toString():i;b.defineMetadata(`apprun-update:${n}`,{name:n,key:i,options:s},e)}}function x(t,s){return function(e){return y(t,e,s),e}}const j=(t,s)=>(s?t.state[s]:t.state)||"",$=(t,s,e)=>{if(s){const i=Object.assign({},t.state);i[s]=e,t.setState(i)}else t.setState(e)};const O={};i.on("get-components",t=>t.components=O);const _=t=>t;class E{constructor(s,e,i,n){this.state=s,this.view=e,this.update=i,this.options=n,this._app=new t,this._actions=[],this._global_events=[],this._history=[],this._history_idx=-1,this._history_prev=()=>{this._history_idx--,this._history_idx>=0?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=0},this._history_next=()=>{this._history_idx++,this._history_idx<this._history.length?this.setState(this._history[this._history_idx],{render:!0,history:!1}):this._history_idx=this._history.length-1},this.start=(t=null,s)=>this.mount(t,Object.assign(Object.assign({},s),{render:!0}))}render(t,s){i.render(t,s,this)}_view(t,s=null){if(!this.view)return;const e=i.createElement;i.createElement=(t,s,...n)=>(s&&Object.keys(s).forEach(e=>{e.startsWith("$")&&(((t,s,e,n)=>{if(t.startsWith("$on")){const e=s[t];if(t=t.substring(1),"boolean"==typeof e)s[t]=s=>n.run(t,s);else if("string"==typeof e)s[t]=t=>n.run(e,t);else if("function"==typeof e)s[t]=t=>n.setState(e(n.state,t));else if(Array.isArray(e)){const[i,...o]=e;"string"==typeof i?s[t]=t=>n.run(i,...o,t):"function"==typeof i&&(s[t]=t=>n.setState(i(n.state,...o,t)))}}else if("$bind"===t){const i=s.type||"text",o="string"==typeof s[t]?s[t]:s.name;if("input"===e)switch(i){case"checkbox":s.checked=j(n,o),s.onclick=t=>$(n,o||t.target.name,t.target.checked);break;case"radio":s.checked=j(n,o)===s.value,s.onclick=t=>$(n,o||t.target.name,t.target.value);break;case"number":case"range":s.value=j(n,o),s.oninput=t=>$(n,o||t.target.name,Number(t.target.value));break;default:s.value=j(n,o),s.oninput=t=>$(n,o||t.target.name,t.target.value)}else"select"===e?(s.value=j(n,o),s.onchange=t=>{t.target.multiple||$(n,o||t.target.name,t.target.value)}):"option"===e&&(s.selected=j(n,o),s.onclick=t=>$(n,o||t.target.name,t.target.selected))}else i.run("$",{key:t,tag:e,props:s,component:n})})(e,s,t,this),delete s[e])}),e(t,s,...n));const n=s?this.view(t,s):this.view(t);return i.createElement=e,n}renderState(t,s=null){if(!this.view)return;const e=s||this._view(t);if(i.debug&&i.run("debug",{component:this,state:t,vdom:e||"[vdom is null - no render]"}),"object"!=typeof document)return;const n="string"==typeof this.element?document.getElementById(this.element):this.element;if(n){const t="_c";this.unload?n._component===this&&n.getAttribute(t)===this.tracking_id||(this.tracking_id=(new Date).valueOf().toString(),n.setAttribute(t,this.tracking_id),"undefined"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver(t=>{t[0].oldValue!==this.tracking_id&&document.body.contains(n)||(this.unload(this.state),this.observer.disconnect(),this.observer=null)})),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[t]}))):n.removeAttribute&&n.removeAttribute(t),n._component=this}s||this.render(n,e),this.rendered&&this.rendered(this.state)}setState(t,s={render:!0,history:!1}){if(t instanceof Promise)t.then(t=>{this.setState(t,s)}).catch(t=>{throw console.error(t),t}),this._state=t;else{if(this._state=t,null==t)return;this.state=t,!1!==s.render&&this.renderState(t),!1!==s.history&&this.enable_history&&(this._history=[...this._history,t],this._history_idx=this._history.length-1),"function"==typeof s.callback&&s.callback(this.state)}}mount(t=null,s){var e,n;if(console.assert(!this.element,"Component already mounted."),this.options=s=Object.assign(Object.assign({},this.options),s),this.element=t,this.global_event=s.global_event,this.enable_history=!!s.history,this.enable_history&&(this.on(s.history.prev||"history-prev",this._history_prev),this.on(s.history.next||"history-next",this._history_next)),this.add_actions(),this.state=null!==(n=null!==(e=this.state)&&void 0!==e?e:this.model)&&void 0!==n?n:{},s.render?this.setState(this.state,{render:!0,history:!0}):this.setState(this.state,{render:!1,history:!0}),i.debug){const s="string"==typeof t?t:t.id;O[s]=O[s]||[],O[s].push(this)}return this}is_global_event(t){return t&&(this.global_event||this._global_events.indexOf(t)>=0||t.startsWith("#")||t.startsWith("/")||t.startsWith("@"))}add_action(t,s,e={}){s&&"function"==typeof s&&(e.global&&this._global_events.push(t),this.on(t,(...n)=>{const o=s(this.state,...n);i.debug&&i.run("debug",{component:this,event:t,e:n,state:this.state,newState:o,options:e}),this.setState(o,e)},e))}add_actions(){const t=this.update||{};b.getMetadataKeys(this).forEach(s=>{if(s.startsWith("apprun-update:")){const e=b.getMetadata(s,this);t[e.name]=[this[e.key].bind(this),e.options]}});const s={};Array.isArray(t)?t.forEach(t=>{const[e,i,n]=t;e.toString().split(",").forEach(t=>s[t.trim()]=[i,n])}):Object.keys(t).forEach(e=>{const i=t[e];("function"==typeof i||Array.isArray(i))&&e.split(",").forEach(t=>s[t.trim()]=i)}),s["."]||(s["."]=_),Object.keys(s).forEach(t=>{const e=s[t];"function"==typeof e?this.add_action(t,e):Array.isArray(e)&&this.add_action(t,e[0],e[1])})}run(t,...s){const e=t.toString();return this.is_global_event(e)?i.run(e,...s):this._app.run(e,...s)}on(t,s,e){const n=t.toString();return this._actions.push({name:n,fn:s}),this.is_global_event(n)?i.on(n,s,e):this._app.on(n,s,e)}unmount(){var t;null===(t=this.observer)||void 0===t||t.disconnect(),this._actions.forEach(t=>{const{name:s,fn:e}=t;this.is_global_event(s)?i.off(s,e):this._app.off(s,e)})}}E.t=!0;const M="//",A="///",k=t=>{if(t||(t="#"),t.startsWith("#")){const[s,...e]=t.split("/");i.run(s,...e)||i.run("///",s,...e),i.run("//",s,...e)}else if(t.startsWith("/")){const[s,e,...n]=t.split("/");i.run("/"+e,...n)||i.run("///","/"+e,...n),i.run("//","/"+e,...n)}else i.run(t)||i.run("///",t),i.run("//",t)};i.h=i.createElement=h,i.render=function(t,s,e){l(t,s,e)},i.Fragment=m,i.webComponent=y,i.start=(t,s,e,i,n)=>{const o=Object.assign(Object.assign({},n),{render:!0,global_event:!0}),r=new E(s,e,i);return n&&n.rendered&&(r.rendered=n.rendered),r.mount(t,o),r};const T=t=>{};i.on("$",T),i.on("debug",t=>T),i.on("//",T),i.on("#",T),i.route=k,i.on("route",t=>i.route&&i.route(t)),"object"==typeof document&&document.addEventListener("DOMContentLoaded",()=>{i.route===k&&(window.onpopstate=()=>k(location.hash),k(location.hash))}),"object"==typeof window&&(window.Component=E,window.React=i,window.on=v,window.customElement=x)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const S=new WeakMap,V=t=>(...s)=>{const e=t(...s);return S.set(e,!0),e},L=t=>"function"==typeof t&&S.has(t),C=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,P=(t,s,e=null)=>{for(;s!==e;){const e=s.nextSibling;t.removeChild(s),s=e}},N={},H={},F=`{{lit-${String(Math.random()).slice(2)}}}`,W=`\x3c!--${F}--\x3e`,G=new RegExp(`${F}|${W}`);class D{constructor(t,s){this.parts=[],this.element=s;const e=[],i=[],n=document.createTreeWalker(s.content,133,null,!1);let o=0,r=-1,h=0;const{strings:c,values:{length:l}}=t;for(;h<l;){const t=n.nextNode();if(null!==t){if(r++,1===t.nodeType){if(t.hasAttributes()){const s=t.attributes,{length:e}=s;let i=0;for(let t=0;t<e;t++)I(s[t].name,"$lit$")&&i++;for(;i-- >0;){const s=c[h],e=J.exec(s)[2],i=e.toLowerCase()+"$lit$",n=t.getAttribute(i);t.removeAttribute(i);const o=n.split(G);this.parts.push({type:"attribute",index:r,name:e,strings:o}),h+=o.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),n.currentNode=t.content)}else if(3===t.nodeType){const s=t.data;if(s.indexOf(F)>=0){const i=t.parentNode,n=s.split(G),o=n.length-1;for(let s=0;s<o;s++){let e,o=n[s];if(""===o)e=B();else{const t=J.exec(o);null!==t&&I(t[2],"$lit$")&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),e=document.createTextNode(o)}i.insertBefore(e,t),this.parts.push({type:"node",index:++r})}""===n[o]?(i.insertBefore(B(),t),e.push(t)):t.data=n[o],h+=o}}else if(8===t.nodeType)if(t.data===F){const s=t.parentNode;null!==t.previousSibling&&r!==o||(r++,s.insertBefore(B(),t)),o=r,this.parts.push({type:"node",index:r}),null===t.nextSibling?t.data="":(e.push(t),r--),h++}else{let s=-1;for(;-1!==(s=t.data.indexOf(F,s+1));)this.parts.push({type:"node",index:-1}),h++}}else n.currentNode=i.pop()}for(const t of e)t.parentNode.removeChild(t)}}const I=(t,s)=>{const e=t.length-s.length;return e>=0&&t.slice(e)===s},R=t=>-1!==t.index,B=()=>document.createComment(""),J=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class K{constructor(t,s,e){this.o=[],this.template=t,this.processor=s,this.options=e}update(t){let s=0;for(const e of this.o)void 0!==e&&e.setValue(t[s]),s++;for(const t of this.o)void 0!==t&&t.commit()}_clone(){const t=C?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),s=[],e=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let n,o=0,r=0,h=i.nextNode();for(;o<e.length;)if(n=e[o],R(n)){for(;r<n.index;)r++,"TEMPLATE"===h.nodeName&&(s.push(h),i.currentNode=h.content),null===(h=i.nextNode())&&(i.currentNode=s.pop(),h=i.nextNode());if("node"===n.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(h.previousSibling),this.o.push(t)}else this.o.push(...this.processor.handleAttributeExpressions(h,n.name,n.strings,this.options));o++}else this.o.push(void 0),o++;return C&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const U=` ${F} `;class q{constructor(t,s,e,i){this.strings=t,this.values=s,this.type=e,this.processor=i}getHTML(){const t=this.strings.length-1;let s="",e=!1;for(let i=0;i<t;i++){const t=this.strings[i],n=t.lastIndexOf("\x3c!--");e=(n>-1||e)&&-1===t.indexOf("--\x3e",n+1);const o=J.exec(t);s+=null===o?t+(e?U:W):t.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+F}return s+=this.strings[t],s}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}class z extends q{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),s=t.content,e=s.firstChild;return s.removeChild(e),((t,s,e=null,i=null)=>{for(;s!==e;){const e=s.nextSibling;t.insertBefore(s,i),s=e}})(s,e.firstChild),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Q=t=>null===t||!("object"==typeof t||"function"==typeof t),X=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class Y{constructor(t,s,e){this.dirty=!0,this.element=t,this.name=s,this.strings=e,this.parts=[];for(let t=0;t<e.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new Z(this)}_getValue(){const t=this.strings,s=t.length-1;let e="";for(let i=0;i<s;i++){e+=t[i];const s=this.parts[i];if(void 0!==s){const t=s.value;if(Q(t)||!X(t))e+="string"==typeof t?t:String(t);else for(const s of t)e+="string"==typeof s?s:String(s)}}return e+=t[s],e}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Z{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===N||Q(t)&&t===this.value||(this.value=t,L(t)||(this.committer.dirty=!0))}commit(){for(;L(this.value);){const t=this.value;this.value=N,t(this)}this.value!==N&&this.committer.commit()}}class tt{constructor(t){this.value=void 0,this.l=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(B()),this.endNode=t.appendChild(B())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.u(this.startNode=B()),t.u(this.endNode=B())}insertAfterPart(t){t.u(this.startNode=B()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.l=t}commit(){for(;L(this.l);){const t=this.l;this.l=N,t(this)}const t=this.l;t!==N&&(Q(t)?t!==this.value&&this.p(t):t instanceof q?this.m(t):t instanceof Node?this.g(t):X(t)?this.v(t):t===H?(this.value=H,this.clear()):this.p(t))}u(t){this.endNode.parentNode.insertBefore(t,this.endNode)}g(t){this.value!==t&&(this.clear(),this.u(t),this.value=t)}p(t){const s=this.startNode.nextSibling,e="string"==typeof(t=null==t?"":t)?t:String(t);s===this.endNode.previousSibling&&3===s.nodeType?s.data=e:this.g(document.createTextNode(e)),this.value=t}m(t){const s=this.options.templateFactory(t);if(this.value instanceof K&&this.value.template===s)this.value.update(t.values);else{const e=new K(s,t.processor,this.options),i=e._clone();e.update(t.values),this.g(i),this.value=e}}v(t){Array.isArray(this.value)||(this.value=[],this.clear());const s=this.value;let e,i=0;for(const n of t)e=s[i],void 0===e&&(e=new tt(this.options),s.push(e),0===i?e.appendIntoPart(this):e.insertAfterPart(s[i-1])),e.setValue(n),e.commit(),i++;i<s.length&&(s.length=i,this.clear(e&&e.endNode))}clear(t=this.startNode){P(this.startNode.parentNode,t.nextSibling,this.endNode)}}class st{constructor(t,s,e){if(this.value=void 0,this.l=void 0,2!==e.length||""!==e[0]||""!==e[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=s,this.strings=e}setValue(t){this.l=t}commit(){for(;L(this.l);){const t=this.l;this.l=N,t(this)}if(this.l===N)return;const t=!!this.l;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.l=N}}class et extends Y{constructor(t,s,e){super(t,s,e),this.single=2===e.length&&""===e[0]&&""===e[1]}_createPart(){return new it(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class it extends Z{}let nt=!1;try{const t={get capture(){return nt=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class ot{constructor(t,s,e){this.value=void 0,this.l=void 0,this.element=t,this.eventName=s,this.eventContext=e,this.j=t=>this.handleEvent(t)}setValue(t){this.l=t}commit(){for(;L(this.l);){const t=this.l;this.l=N,t(this)}if(this.l===N)return;const t=this.l,s=this.value,e=null==t||null!=s&&(t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive),i=null!=t&&(null==s||e);e&&this.element.removeEventListener(this.eventName,this.j,this.$),i&&(this.$=rt(t),this.element.addEventListener(this.eventName,this.j,this.$)),this.value=t,this.l=N}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const rt=t=>t&&(nt?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const ht=new class{handleAttributeExpressions(t,s,e,i){const n=s[0];if("."===n){return new et(t,s.slice(1),e).parts}return"@"===n?[new ot(t,s.slice(1),i.eventContext)]:"?"===n?[new st(t,s.slice(1),e)]:new Y(t,s,e).parts}handleTextExpression(t){return new tt(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function ct(t){let s=lt.get(t.type);void 0===s&&(s={stringsArray:new WeakMap,keyString:new Map},lt.set(t.type,s));let e=s.stringsArray.get(t.strings);if(void 0!==e)return e;const i=t.strings.join(F);return e=s.keyString.get(i),void 0===e&&(e=new D(t,t.getTemplateElement()),s.keyString.set(i,e)),s.stringsArray.set(t.strings,e),e}const lt=new Map,ut=new WeakMap,ft=(t,s,e)=>{let i=ut.get(s);void 0===i&&(P(s,s.firstChild),ut.set(s,i=new tt(Object.assign({templateFactory:ct},e))),i.appendInto(s)),i.setValue(t),i.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const at=(t,...s)=>new q(t,s,"html",ht),dt=(t,...s)=>new z(t,s,"svg",ht)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,pt=new WeakMap,mt=V(t=>s=>{if(!(s instanceof tt))throw new Error("unsafeHTML can only be used in text bindings");const e=pt.get(s);if(void 0!==e&&Q(t)&&t===e.value&&s.value===e.fragment)return;const i=document.createElement("template");i.innerHTML=t;const n=document.importNode(i.content,!0);s.setValue(n),pt.set(s,{value:t,fragment:n})});function wt(t,s,e){"string"==typeof s?ft(at`${mt(s)}`,t):s instanceof q?ft(s,t):l(t,s,e)}const yt=V((t,...s)=>e=>{if(!(e instanceof ot))throw new Error("${run} can only be used in event handlers");let{element:i,eventName:n}=e;const o=()=>{let t=i._component;for(;!t&&i;)i=i.parentElement,t=i&&i._component;return console.assert(!!t,"Component not found."),t};"string"==typeof t?i[`on${n}`]=e=>o().run(t,...s,e):"function"==typeof t&&(i[`on${n}`]=e=>o().setState(t(o().state,...s,e)))});i.createElement=h,i.render=wt,i.Fragment=m,"object"==typeof window&&(window.html=at,window.svg=dt,window.run=yt);export default i;export{E as Component,A as ROUTER_404_EVENT,M as ROUTER_EVENT,i as app,x as customElement,g as event,at as html,v as on,wt as render,yt as run,dt as svg,g as update};
//# sourceMappingURL=apprun-html.esm.js.map
